<div class="container mt-5">
  <div [class.blurred]="showDeleteModal" class="page-content">
    <div class="text-center d-flex w-100 flex-column" >
      <h2>Alle bereits eingetragenen Foodspots</h2>
      <span>
        Hier findest du eine Übersicht aller Foodspots, die du hinzugefügt hast.
      </span>
      <span>Du kannst jeden Eintrag bearbeiten oder löschen.</span>
      <br/>
    </div>
    <div class="table-responsive">
    <table class="table table-striped table-bordered mt-5">
      
      <thead>
        <tr>
          <th scope="col">Name</th>
          <th scope="col">Stadt</th>
          <th scope="col">Küche</th>
          <th scope="col">Geschmack</th>
          <th scope="col">Preis</th>
          <th scope="col">Ambiente</th>
          <th scope="col">⌀ Bewertung</th>
          <th scope="col">Kommentar</th>
          <th scope="col">Aktionen</th>
        </tr>
      </thead>
  
      <tbody>
        @for (foodspot of foodspots; track $index; let i = $index) {
        <tr class="align-middle ">
          <td>{{ foodspot.name }}</td>
          <td>{{ foodspot.stadt }}</td>
          <td>{{ foodspot.kueche }}</td>
          <td>{{ foodspot.bewertung_geschmack}}</td>
          <td>{{ foodspot.bewertung_preis }}</td>
          <td>{{ foodspot.bewertung_ambiente }}</td>
          <td><strong>{{ berechneDurchschnitt(foodspot) }}</strong></td>
          <td>{{ foodspot.kommentar }}</td>
          <td>
            <div class="button-container">
              <button (click)="onClickBearbeiten(foodspot)"><span class="bi bi-pencil"></span></button>
              <button (click)="onClickDelete(foodspot)">
                <span class="bi bi-trash"></span>
              </button>
            </div>
          </td>
        </tr>
      }
      </tbody>
    </table>
  </div>
  </div>

  @if(showDeleteModal) {
  <div class="showDeleteModal responsive-modal" tabindex="-1">
    <div class="border-bottom border-secondary ps-4">
      <h3 class="m-0 py-2 text-secondary text-start">Löschen bestätigen</h3>
    </div>
    <div class="modal-body">
      <p>Wollen Sie {{ this.foodspot.name }} wirklich löschen?</p>
    </div>
    <div class="d-flex justify-content-between">
      <button type="button" class="cancel-button" data-bs-dismiss="modal" (click)="cancelDelete()"> Abbrechen </button>
      <button type="button" class="edit-button" (click)="deleteFoodspot()">Löschen</button>
    </div>
  </div>
}
</div>
